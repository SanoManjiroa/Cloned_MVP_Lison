<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0609TXELY1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-0609TXELY1');
    </script>

    {% load static %}
    <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="be2ab659-68b0-414c-bb4e-ae9412ec2c8c" type="text/javascript" async></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writers & Poets Platform</title>
    <link rel="stylesheet" href="{% static 'css/second_style_post_app.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Menu</h3>
            <button class="sidebar-close" id="sidebarClose">√ó</button>
        </div>
        <nav class="sidebar-nav">
            <button class="sidebar-btn" onclick='window.location.href="{% url "profile" %}"'>‚úì Your Account</button>
            <button class="sidebar-btn">‚úì Events & Projects</button>
            <button class="sidebar-btn">‚úì Main Page</button>
            <button class="sidebar-btn">‚úì Contact</button>
            <button class="sidebar-btn" onclick='window.location.href="{% url "post" %}"'>‚úì Posts</button>
            <button class="sidebar-btn">‚úì Archive</button>
            <button class="sidebar-btn">‚úì Books</button>
            <button class="sidebar-btn">‚úì Writers & Poets</button>
        </nav>
    </div>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <header class="header">
        <nav class="nav-left">
            <button class="nav-btn" onclick='window.location.href="{% url "profile" %}"'>‚úì Your Account</button>
            <button class="nav-btn">‚úì Events & Projects</button>
            <button class="nav-btn">‚úì Main Page</button>
            <button class="nav-btn">‚úì Contact </button>
        </nav>

        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search writers and poets...">
            <div class="search-icon">üîç</div>
        </div>

        <nav class="nav-right">
            <button class="nav-btn" onclick='window.location.href="{% url "post" %}"'>‚úì Posts</button>
            <button class="nav-btn">‚úì Archive</button>
            <button class="nav-btn">‚úì Books</button>
            <button class="nav-btn">‚úì Writers & Poets</button>
        </nav>
    </header>

    <main class="main-content">
        <div class="cards-grid">
            <!-- Static profile cards -->
            <div class="profile-card">
                <div class="card-header">
                    <span class="role-tag">Poet</span>
                </div>
                <div class="profile-image">
                    <img src="{% static 'images/first.png' %}" alt="Lily Borny"  style="border: 4px solid #06b6d4;">
                </div>
                <h3 class="profile-name lily">Lily Borny</h3>
                <p class="profile-quote">Life is better than bad memories</p>
                <button class="read-more-btn lily-btn">read more ></button>
            </div>

            <div class="profile-card">
                <div class="card-header">
                    <span class="role-tag">Writer</span>
                </div>
                <div class="profile-image">
                    <img src="{% static 'images/second.png' %}" alt="Muharram" style="border: 4px solid #ec4899;">
                </div>
                <h3 class="profile-name muharram">Muharram</h3>
                <p class="profile-quote">Life is better than bad memories</p>
                <button class="read-more-btn muharram-btn">read more ></button>
            </div>

            <div class="profile-card">
                <div class="card-header">
                    <span class="role-tag">Poet</span>
                </div>
                <div class="profile-image">
                    <img src="{% static 'images/third.png' %}" alt="Sofia" style="border: 4px solid #f97316;">
                </div>
                <h3 class="profile-name sofia">Sofia</h3>
                <p class="profile-quote">Life is better than bad memories</p>
                <button class="read-more-btn sofia-btn">read more ></button>
            </div>

            <div class="profile-card">
                <div class="card-header">
                    <span class="role-tag">Writer</span>
                </div>
                <div class="profile-image">
                    <img src="{% static 'images/fourth.png' %}" alt="Maria Lauras" style="border: 4px solid #a855f7;">
                </div>
                <h3 class="profile-name maria">Maria Lauras</h3>
                <p class="profile-quote">Life is better than bad memories</p>
                <button class="read-more-btn maria-btn">read more ></button>
            </div>

            <div class="profile-card">
                <div class="card-header">
                    <span class="role-tag">Poet</span>
                </div>
                <div class="profile-image">
                    <img src="{% static 'images/fifth.png' %}" alt="Veronika Neva" style="border: 4px solid #f97316;">
                </div>
                <h3 class="profile-name veronika">Veronika Neva</h3>
                <p class="profile-quote">Life is better than bad memories</p>
                <button class="read-more-btn veronika-btn">read more ></button>
            </div>

            <div class="profile-card">
                <div class="card-header">
                    <span class="role-tag">Writer</span>
                </div>
                <div class="profile-image">
                    <img src="{% static 'images/sixth.png' %}" alt="Kosem Sultana" style="border: 4px solid #3b82f6;">
                </div>
                <h3 class="profile-name kosem">Kosem Sultana</h3>
                <p class="profile-quote">Life is better than bad memories</p>
                <button class="read-more-btn kosem-btn">read more ></button>
            </div>

            <!-- Dynamic posts from the database -->
            {% if posts %}
                {% for post in posts %}
                    <div class="profile-card">
                        <div class="card-header">
                            <span class="role-tag">{{ post.account_mode.capitalize }}</span>
                        </div>
                        <div class="profile-image">
                            {% if post.Profile_url %}
                                <img src="{{ post.Profile_url }}" alt="{{ post.username }}" style="border: 4px solid {{ post.colorProfilePost }};">
                            {% else %}
                                <img src="{% static 'images/sixth.png' %}" alt="Default" style="border: 4px solid blue;">
                            {% endif %}
                        </div>
                        <h3 class="profile-name" style="color: {{ post.colorProfilePost }};">{{ post.username }}</h3>
                        <p class="profile-quote">{{ post.post_title }}</p>
                        <button class="read-more-btn db-btn" style="--dbcolor: {{post.colorProfilePost}}; color:{{post.colorProfilePost}}; border-color:{{post.colorProfilePost}}; ">read more ></button>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </main>

    <!-- Bottom Navigation Bar -->
    <nav class="bottom-nav">
        <button class="nav-tab active" onclick='window.location.href="{% url "profile" %}"'>
            <span class="nav-icon">üë§</span>
            <span class="nav-text">Account</span>
        </button>
        <button class="nav-tab" onclick='window.location.href="{% url "post" %}"'>
            <span class="nav-icon">üìù</span>
            <span class="nav-text">Posts</span>
        </button>
        <button class="nav-tab">
            <span class="nav-icon">üìö</span>
            <span class="nav-text">Books</span>
        </button>
        <button class="nav-tab">
            <span class="nav-icon">üîç</span>
            <span class="nav-text">Search</span>
        </button>
        <button class="nav-tab" id="bottomMenuBtn">
            <span class="nav-icon">‚ò∞</span>
            <span class="nav-text">Menu</span>
        </button>
    </nav>

    <script>
        // Mobile sidebar functionality
        const mobileMenuBtn = document.getElementById("mobileMenuBtn");
        const bottomMenuBtn = document.getElementById("bottomMenuBtn");
        const sidebar = document.getElementById("sidebar");
        const sidebarOverlay = document.getElementById("sidebarOverlay");
        const sidebarClose = document.getElementById("sidebarClose");

        function toggleSidebar() {
            sidebar.classList.toggle("active");
            sidebarOverlay.classList.toggle("active");
        }

        function closeSidebar() {
            sidebar.classList.remove("active");
            sidebarOverlay.classList.remove("active");
        }

        mobileMenuBtn.addEventListener("click", toggleSidebar);
        bottomMenuBtn.addEventListener("click", toggleSidebar);
        sidebarClose.addEventListener("click", closeSidebar);
        sidebarOverlay.addEventListener("click", closeSidebar);

        // Close sidebar when clicking on sidebar buttons
        const sidebarBtns = document.querySelectorAll('.sidebar-btn');
        sidebarBtns.forEach(btn => {
            btn.addEventListener('click', closeSidebar);
        });

        // Bottom nav active state
        const navTabs = document.querySelectorAll('.nav-tab');
        navTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                navTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>